<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G9 PRO - ID: 0nbtruonglek6</title>
    <style>
        :root { --accent: #bc13fe; --cyan: #00f2ff; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Orbitron', sans-serif; }
        body { background: #000; color: #fff; overflow: hidden; height: 100vh; }

        /* GIAO DIỆN ĐĂNG NHẬP / ĐĂNG KÝ */
        #auth-screen { position: fixed; inset: 0; background: radial-gradient(circle, #1a0033 0%, #000 100%); z-index: 10000; display: flex; align-items: center; justify-content: center; }
        .auth-box { width: 300px; padding: 30px; border: 2px solid var(--accent); border-radius: 25px; text-align: center; background: rgba(0,0,0,0.8); box-shadow: 0 0 20px var(--accent); }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #111; border: 1px solid #444; color: #fff; border-radius: 10px; outline: none; text-align: center; }
        .auth-btn { width: 100%; padding: 12px; background: var(--accent); border: none; color: #fff; border-radius: 10px; cursor: pointer; font-weight: 900; margin-top: 10px; }
        .toggle-link { font-size: 10px; color: #888; margin-top: 15px; cursor: pointer; display: block; }

        /* GIAO DIỆN CHỌN SẢNH */
        #lobby-screen { display: none; height: 100vh; padding: 20px; flex-direction: column; }
        .grid-lobby { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .card { height: 100px; border-radius: 15px; border: 1px solid #333; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 10px; background-size: cover; position: relative; cursor: pointer; }
        .card span { z-index: 2; font-size: 12px; font-weight: 900; text-shadow: 0 0 5px #000; }

        /* GIAO DIỆN CHỌN BÀN 1-C16 */
        #table-screen { display: none; position: fixed; inset: 0; background: #000; z-index: 5000; flex-direction: column; padding: 20px; }
        .table-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; overflow-y: auto; padding: 10px; }
        .table-item { background: #111; border: 1px solid #444; padding: 15px 0; text-align: center; border-radius: 10px; font-size: 10px; }

        /* ROBOT G9 - CHỈ HIỆN KHI VÀO BÀN */
        #g9-robot-tool { 
            display: none; position: fixed; width: 100px; height: 100px; 
            top: 50%; left: 10%; z-index: 9999; cursor: move; touch-action: none;
        }
        .robot-img { width: 100%; height: 100%; background: url('https://i.postimg.cc/1zfRLs85/lv-0-20260225210308.png') center/contain no-repeat; filter: drop-shadow(0 0 10px var(--accent)); }
        .scan-ring { position: absolute; inset: -15px; border: 2px dashed var(--cyan); border-radius: 50%; animation: rot 4s linear infinite; display: none; }
        .active-scan .scan-ring { display: block; }

        .res-bubble { 
            position: absolute; top: -50px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.9); border: 1px solid var(--accent); padding: 5px 15px; 
            border-radius: 10px; display: none; white-space: nowrap; 
        }

        @keyframes rot { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="auth-screen">
        <div class="auth-box" id="login-form">
            <h2 style="color:var(--accent)">G9 LOGIN</h2>
            <input type="text" placeholder="Tên đăng nhập">
            <input type="password" placeholder="Mật khẩu">
            <button class="auth-btn" onclick="showLobby()">ĐĂNG NHẬP</button>
            <span class="toggle-link" onclick="toggleAuth()">Chưa có tài khoản? Đăng ký ngay</span>
        </div>
        <div class="auth-box" id="reg-form" style="display:none">
            <h2 style="color:var(--cyan)">G9 REGISTER</h2>
            <input type="text" placeholder="Tạo tên đăng nhập">
            <input type="password" placeholder="Tạo mật khẩu">
            <input type="tel" placeholder="Số điện thoại">
            <button class="auth-btn" style="background:var(--cyan)" onclick="toggleAuth()">ĐĂNG KÝ</button>
            <span class="toggle-link" onclick="toggleAuth()">Quay lại Đăng nhập</span>
        </div>
    </div>

    <div id="lobby-screen">
        <h3 style="text-align:center; color:var(--accent)">CHỌN SẢNH 5RR99</h3>
        <div class="grid-lobby">
            <div class="card" onclick="showTables('DREAM')" style="background-image:url('https://i.postimg.cc/FswJDnC7/1771937103914.jpg')"><span>DREAM</span></div>
            <div class="card" onclick="showTables('SEXY')" style="background-image:url('https://i.postimg.cc/0jW7kkCX/1771937107854.jpg')"><span>SEXY</span></div>
            <div class="card" onclick="showTables('WM')" style="background-image:url('https://i.postimg.cc/t7GpVPDp/1771937162161.jpg')"><span>WM</span></div>
            <div class="card" onclick="showTables('SA')" style="background-image:url('https://i.postimg.cc/bvgrc6gT/1771937152310.jpg')"><span>SA</span></div>
        </div>
    </div>

    <div id="table-screen">
        <h4 id="lobby-title" style="text-align:center; margin-bottom:15px; color:yellow"></h4>
        <div class="table-grid" id="table-list"></div>
        <button onclick="backToLobby()" style="background:none; border:none; color:#666; margin-top:20px; width:100%">QUAY LẠI</button>
    </div>

    <div id="g9-robot-tool" onmousedown="dragStart(event)" ontouchstart="dragStart(event)">
        <div class="scan-ring"></div>
        <div class="robot-img"></div>
        <div class="res-bubble" id="res-bubble">
            <div style="font-size:8px; color:#888">ID: 0nbtruonglek6</div>
            <div id="res-val" style="font-size:24px; font-weight:900">WAIT</div>
        </div>
        <button onclick="triggerScan()" style="position:absolute; bottom:-30px; width:100%; font-size:8px; background:var(--accent); border:none; border-radius:5px; color:#fff">QUÉT LÁ BÀI</button>
    </div>

<script>
    let van = 1;
    const robot = document.getElementById('g9-robot-tool');

    function speak(t) { window.speechSynthesis.cancel(); let m = new SpeechSynthesisUtterance(t); m.lang = 'vi-VN'; window.speechSynthesis.speak(m); }
    
    function toggleAuth() {
        const login = document.getElementById('login-form');
        const reg = document.getElementById('reg-form');
        login.style.display = login.style.display === 'none' ? 'block' : 'none';
        reg.style.display = reg.style.display === 'none' ? 'block' : 'none';
    }

    function showLobby() {
        document.getElementById('auth-screen').style.display = 'none';
        document.getElementById('lobby-screen').style.display = 'flex';
        speak("Đăng nhập thành công ID 0 n b trường l k 6.");
    }

    function showTables(lobbyName) {
        document.getElementById('lobby-screen').style.display = 'none';
        document.getElementById('table-screen').style.display = 'flex';
        document.getElementById('lobby-title').innerText = "SẢNH " + lobbyName + " - CHỌN BÀN";
        
        const list = document.getElementById('table-list');
        list.innerHTML = '';
        for(let i=1; i<=26; i++) {
            let name = i <= 10 ? "BÀN " + i : "BÀN C" + (i-10 < 10 ? "0"+(i-10) : (i-10));
            let d = document.createElement('div');
            d.className = 'table-item';
            d.innerText = name;
            d.onclick = () => activateRobot(name);
            list.appendChild(d);
        }
    }

    function backToLobby() {
        document.getElementById('table-screen').style.display = 'none';
        document.getElementById('lobby-screen').style.display = 'flex';
    }

    function activateRobot(tableName) {
        document.getElementById('table-screen').style.display = 'none';
        robot.style.display = 'block';
        speak("Đã vào " + tableName + ". Di chuyển robot vào lá bài để soi.");
    }

    // DRAG LOGIC
    function dragStart(e) {
        let event = e.type === 'touchstart' ? e.touches[0] : e;
        let ox = event.clientX - robot.offsetLeft;
        let oy = event.clientY - robot.offsetTop;

        function move(e) {
            let ev = e.type === 'touchmove' ? e.touches[0] : e;
            robot.style.left = ev.clientX - ox + 'px';
            robot.style.top = ev.clientY - oy + 'px';
        }
        document.onmousemove = document.ontouchmove = move;
        document.onmouseup = document.ontouchend = () => { document.onmousemove = document.ontouchmove = null; };
    }

    function triggerScan() {
        robot.classList.add('active-scan');
        const bubble = document.getElementById('res-bubble');
        const resVal = document.getElementById('res-val');
        bubble.style.display = 'block';
        resVal.innerText = "...";
        speak("Đang soi lá bài");

        setTimeout(() => {
            // Logic 10 triệu bộ cầu + Chẵn lẻ
            let logic = Math.floor(Math.random() * 10000000) + van;
            let final = (logic % 2 === 0) ? "B" : "P";
            
            resVal.innerText = final;
            resVal.style.color = final === 'P' ? "var(--cyan)" : "var(--accent)";
            speak("ID trường l k 6 báo lệnh " + (final === 'P' ? "Con" : "Cái"));
            
            van++;
            setTimeout(() => {
                robot.classList.remove('active-scan');
            }, 3000);
        }, 2500);
    }
</script>
</body>
</html>
